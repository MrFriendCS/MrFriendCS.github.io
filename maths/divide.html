<!DOCTYPE html>
<html lang='en-gb'>

<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1'>

    <link rel="shortcut icon" href="images/n5.png">

    <link href="styles.css" rel="stylesheet" type="text/css">
    <link href="switch.css" rel="stylesheet" type="text/css">

	<title>Divide</title>

    <style>
        /* See external CSS */
    </style>

</head>

<body>
    <h1>Divide</h1>

    <div id="divTables">
        <p id="2" class="switch on" onClick='toggle(this)'>2</p>
        <p class="switch on" onClick='toggle(this)'>3</p>
        <p class="switch on" onClick='toggle(this)'>4</p>
        <p class="switch on" onClick='toggle(this)'>5</p>
        <p class="switch on" onClick='toggle(this)'>6</p>
        <p class="switch on" onClick='toggle(this)'>7</p>
        <p class="switch on" onClick='toggle(this)'>8</p>
        <p class="switch on" onClick='toggle(this)'>9</p>
    </div>

    <div id='divProblem'>
        <math>
            <mn id="dividend">56</mn>
            <mo>&divide;</mo>
            <mn id="divisor">7</mn>
            <mo>=</mo>
            <mn id="quotient">8</mn>
        </math>
    </div>

    <div id="divButtons">
        <p class='button' onClick='newQuestion()'>New</p>
        <p class='button' onClick='showAnswer()'>Show</p>
    </div>

	<script>

        // Global variables
        let dividend = 56;
        let divisor = 7;
        let quotient = 8;

        let tables = [2, 3, 4, 5, 6, 7, 8, 9];

        function toggle(element) {

            // Local variable
            let table = parseInt(element.innerHTML);
            let index = 0;

            if (element.classList.contains('on')) {
                element.classList.remove('on');
                element.classList.add('off');

                // Remove value from array
                index = tables.indexOf(table);
                tables.splice(index, 1);
            }
            else {
                element.classList.remove('off');
                element.classList.add('on');
                tables.push(table);
            }

            if (tables.length == 0) {
                document.getElementById('2').classList.remove('off');
                document.getElementById('2').classList.add('on');
                tables.push(2);
            }
        }

        function newQuestion() {

            // Local variables
            let newDividend = dividend;

            // Pick new values
            while (dividend == newDividend) {

                // Selected tables
                divisor = tables[parseInt(Math.random() * tables.length)];

                // 2 to 10
                quotient = parseInt(Math.random() * 9) + 2;

                // Calculate multiple
                dividend = quotient * divisor;
            }

            // Create problem
            document.getElementById('dividend').innerHTML = dividend;
            document.getElementById('divisor').innerHTML = divisor;
            document.getElementById('quotient').innerHTML = '';

        }

        function showAnswer() {

            // Update problem
            document.getElementById('quotient').innerHTML = quotient;

        }

	</script>
</body>

</html>
